to bactEat [carbNum]
;run this through a turtle with a carbNum parameter to have them try to eat the carb
;include the odd bifido lactate production
	if (carbNum = 10)[;CS
		ifelse (breed = desulfos)[
			set eaten (eaten + 1)
			set CS of patch-here (CS of patch-here - 1)
		]
		[;else
			;do nothing
		]
	]

	if (carbNum = 11)[;FO
		ifelse (breed = (bifidos or closts or vulgats))[
			set eaten (eaten + 1)
			set FO of patch-here (FO of patch-here - 1)
		]
		[;else
			;do nothing
		]
	]

	if (carbNum = 12)[;GLUCOSE
		ifelse (breed = (bifidos or closts or vulgats))[
			set eaten (eaten + 1)
			set glucose of patch-here (glucose of patch-here - 1)
		]
		[;else
			;do nothing
		]
	]

	if (carbNum = 13)[;INULIN
		ifelse (breed = (bifidos or closts or vulgats))[
			set eaten (eaten + 1)
			set inulin of patch-here (inulin of patch-here - 1)
		]
		[;else
			;do nothing
		]
	]

	if (carbNum = 14)[;LACTATE
		ifelse (breed = (desulfos))[
			set eaten (eaten + 1)
			set lactate of patch-here (lactate of patch-here - 1)
		]
		[;else
			;do nothing
		]
	]

	ifelse (carbNum = 15)[;LACTOSE
		ifelse (breed = (bifidos or closts or vulgats))[
			set eaten (eaten + 1)
			set lactose of patch-here (lactose of patch-here - 1)
		]
		[;else
			;do nothing
		]
	]
end

to patchEat 
;run this on a ask patches to have them start the turtle eating process
	let allCarbs (list CS FO glucose inulin lactate lactose)
	let avaCarbs []

	;initialize the two lists
	let hungryBact (turtles-here with [eaten < 3])
	let i 1
	while (i < (length(allCarbs)))[
		if (item i allCarbs > 0) [
			set avaCarbs lput (i + 10) avaCarbs
		]
		i = i + 1
	]
	
	; do the eating till no carbs or not hungry
	while ((length(avaCarbs) > 0) and (length(hungryBact)) > 0)) [
		;code here to randomly select a turtle from hungryBact and then ask it to run bactEat with a random carb from ava. list
		let carbNum one-of avaCarbs
		ask one-of hungryBact [
			bactEat(carbNum)
		]

		;initialize the two lists again
		let hungryBact (turtles-here with [eaten < 3])
		set allCarbs (list CS FO glucose inulin lactate lactose)
		set i 1
		while (i < (length(allCarbs)))[
			if (item i allCarbs > 0) [
				set avaCarbs lput (i + 10) avaCarbs
			]
			i = i + 1
		]
	]

end
